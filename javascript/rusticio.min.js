function rustic_io(e,t){this.eventList=[];this.socket=null;this.initWebsocket(e,t)}rustic_io.prototype.initWebsocket=function(e,t){this.socket=new WebSocket("ws://"+e+":"+t);this.socket.onopen=function(e){console.log("Connection established")};var n=this;this.socket.onmessage=function(e){console.log("Message received");var t=JSON.parse(e.data);t.data=JSON.parse(t.data);for(var r=0;r<n.eventList.length;r++){if(n.eventList[r].event===t.event){n.eventList[r].callback(n.socket,t.data)}}}};rustic_io.prototype.on=function(e,t){this.eventList.push({event:e,callback:t})};rustic_io.prototype.send=function(e,t){var n={event:e,data:t};this.socket.send(JSON.stringify(n))}